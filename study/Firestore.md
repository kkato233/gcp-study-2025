# Firestore まとめ

## 概要
- 対象: サーバレスのドキュメント型NoSQL（ネイティブ/データストアモード）
- 主用途: モバイル/WEBバックエンド、リアルタイム同期、イベント駆動、小〜中規模での迅速開発

## 利点
- サーバレス: 自動スケール、ゼロ管理に近い運用
- リアルタイム: リスナーでクライアント即時反映
- マルチリージョン: 高可用構成が容易（ネイティブモード）

## 欠点
- クエリ制約: JOIN不可、複合インデックス設計が必要
- トランザクション範囲: 制限あり、複雑な一貫性要件には不向き
- ホットスポット: ドキュメント/キー設計を誤ると性能劣化

## 価格の利点
- 従量課金: アイドル時ほぼゼロ、開発初期に強い
- 運用コスト: 管理負担が小さく人件費を抑制

## 価格の欠点
- オペレーション課金: 高頻度R/Wで費用が跳ねやすい
- クエリ設計依存: インデックス/ドキュメント設計が費用に直結

## 選定の目安
- 向く: リアルタイム同期、柔軟スキーマ、サーバレス志向
- 代替: RDBな参照整合/複雑トランザクション→ Cloud SQL/AlloyDB/Spanner

## コスト最適化 Tips
- ドキュメント粒度/パス設計で読み取り回数を抑制
- 複合インデックスの最小化、TTL/アーカイブ活用
- リスナー/ポーリングのバランス調整、キャッシュ併用
